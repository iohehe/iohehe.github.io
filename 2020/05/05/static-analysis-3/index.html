<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>å—å¤§é™æ€åˆ†æ-3 | Penlab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="03 Data Flow Analysis Iè¯¾ç¨‹é“¾æ¥   Overiew of Data Flow Analysis  12:05  Preliminaries of Data Flow Analysis 23:10  Notations for Transfer Functionâ€™s Constraints   Notations for Control Flowsâ€™s Constraints">
<meta property="og:type" content="article">
<meta property="og:title" content="å—å¤§é™æ€åˆ†æ-3">
<meta property="og:url" content="http://example.com/2020/05/05/static-analysis-3/index.html">
<meta property="og:site_name" content="Penlab">
<meta property="og:description" content="03 Data Flow Analysis Iè¯¾ç¨‹é“¾æ¥   Overiew of Data Flow Analysis  12:05  Preliminaries of Data Flow Analysis 23:10  Notations for Transfer Functionâ€™s Constraints   Notations for Control Flowsâ€™s Constraints">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.10.09.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/image-20210712194843394.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/image-20210714194847170.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-05%20%E4%B8%8B%E5%8D%888.47.16.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-05%20%E4%B8%8B%E5%8D%888.50.48.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-05%20%E4%B8%8B%E5%8D%889.02.42.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-05%20%E4%B8%8B%E5%8D%889.06.40.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-06%20%E4%B8%8B%E5%8D%888.46.49.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2020-05-06-124827.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-06%20%E4%B8%8B%E5%8D%888.50.46.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.19.56.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.23.31.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.35.26.png">
<meta property="og:image" content="http://example.com/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.34.19.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.04.45.png">
<meta property="og:image" content="http://example.com/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.07.26.png">
<meta property="og:image" content="http://example.com/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.11.36.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.18.53.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.22.47.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.11.28.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.10.53.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/image-20210714204736937.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.28.22.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.31.00.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.32.26.png">
<meta property="og:image" content="http://example.com/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.35.09.png">
<meta property="og:image" content="http://example.com/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.35.56.png">
<meta property="og:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.44.19.png">
<meta property="article:published_time" content="2020-05-05T10:08:09.000Z">
<meta property="article:modified_time" content="2022-03-30T06:25:22.936Z">
<meta property="article:author" content="iohex">
<meta property="article:tag" content="pl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2020/05/05/static-analysis-3/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.10.09.png">
  
    <link rel="alternate" href="/atom.xml" title="Penlab" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Penlab</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-static-analysis-3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/05/05/static-analysis-3/" class="article-date">
  <time class="dt-published" datetime="2020-05-05T10:08:09.000Z" itemprop="datePublished">2020-05-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      å—å¤§é™æ€åˆ†æ-3
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="03-Data-Flow-Analysis-I"><a href="#03-Data-Flow-Analysis-I" class="headerlink" title="03 Data Flow Analysis I"></a>03 Data Flow Analysis I</h1><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1oE411K79d">è¯¾ç¨‹é“¾æ¥</a></p>
<blockquote>
<ol>
<li><p>Overiew of Data Flow Analysis  12:05</p>
</li>
<li><p>Preliminaries of Data Flow Analysis 23:10</p>
<ol>
<li>Notations for Transfer Functionâ€™s Constraints  </li>
<li>Notations for Control Flowsâ€™s Constraints 34:40</li>
</ol>
</li>
<li><p>Reaching Definitions Analysis 39:10</p>
<ol>
<li>Issues Not Covered 41:30</li>
<li>Reaching Definitions 44:25</li>
<li>Understanding Reaching Definitions(Transfer Function&amp;Control Flow) 58:00</li>
<li>Algorithm of Reaching Definitions Analysis 1:04:00</li>
<li>ä¸¾ä¸ªæ —å­ğŸŒ°ï¼š1:12:00</li>
</ol>
</li>
</ol>
</blockquote>
<h1 id="0x01-Data-Flow-Analysis-How-data-flows-on-CFG"><a href="#0x01-Data-Flow-Analysis-How-data-flows-on-CFG" class="headerlink" title="0x01 Data Flow Analysis(How data flows on CFG)"></a>0x01 Data Flow Analysis(How data flows on CFG)</h1><p>æ•°æ®æµåˆ†æï¼Œæè¿°çš„æ˜¯<code>How Data Flows on CFG(æ•°æ®åœ¨æ§åˆ¶æµä¸Šçš„ä¼ é€’æƒ…å†µ)</code>ã€‚</p>
<p>ä»€ä¹ˆæ ·çš„DATA: <code>application-specific Data</code>ã€‚</p>
<p>Flowï¼š</p>
<p>å³åœ¨ä¸åŒåœºæ™¯çš„æ•°æ®æµåˆ†æéœ€è¦å…³æ³¨çš„æ•°æ®æŠ½è±¡(data abstraction)ä¸åŒï¼Œå…¶å®‰å…¨ç­–ç•¥ä¹Ÿä¸åŒ(flow safe-approximation strategies)ï¼Œ é‚£ä¹ˆæ ¹æ®å®‰å…¨ç­–ç•¥ï¼Œä¹Ÿä¼šåˆ¶å®šç›¸åº”çš„è½¬åŒ–å‡½æ•°(transfer functions)å’Œè¾¹(control-flow handlings)ã€‚</p>
<p>Analysis:</p>
<blockquote>
<p>May analysis:  outputs information that may be true (over-approximation). å¯èƒ½çš„éƒ½æŠ¥å‡ºæ¥</p>
<p>Must analysis: outputs information that must be true (under-approximation). æŠ¥å‡ºæ¥çš„å¿…é¡»å¯¹</p>
<p>ä¸¤è€…åº”ç”¨äºä¸åŒåœºæ™¯ï¼Œéƒ½æ˜¯ä¸ºäº†ç»“æœæ˜¯æ­£ç¡®çš„ã€‚ä»¥ç»“æœçš„æ­£ç¡®ä¸ºç›®çš„ï¼Œç§°ä¹‹ä¸ºsafe-approximationã€‚</p>
</blockquote>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.10.09.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.10.09 " style="zoom:90%;" />

<p>æ‰€ä»¥å¯¹äºæ•°æ®æµåˆ†ææ¥è¯´ï¼š</p>
<img src="static-analysis-3/image-20210712194843394.png" alt="image-20210712194843394" style="zoom:50%;" />

<p>ä¸åŒçš„æ•°æ®æµåˆ†æåº”ç”¨ï¼Œ å…³æ³¨çš„dataå°±ä¸åŒï¼Œå…¶safe-approximationç­–ç•¥å°±ä¸åŒ(transfer functions å’Œcontrol-flow handlingsä¸åŒ)ã€‚</p>
<h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><img src="static-analysis-3/image-20210714194847170.png" alt="image-20210714194847170" style="zoom:50%;" />

<p>æ•°æ®æµåˆ†æå°±æ˜¯<code>application-specific Data</code>(ä¸åŒçš„æ•°æ®æŠ½è±¡ç­–ç•¥)ï¼Œå¦‚ä½•åœ¨CFGä¸Š(<code>a program</code>)æ²¿ç€ç‚¹(<code>Transfer function</code>)å’ŒEdges(<code>control flows</code>)æµåŠ¨çš„è¯„ä¼°(<code>safe-approximation</code>)</p>
<h1 id="0x02-Prelimiaries-of-Data-Flow-Analysis"><a href="#0x02-Prelimiaries-of-Data-Flow-Analysis" class="headerlink" title="0x02 Prelimiaries of Data Flow Analysis"></a>0x02 Prelimiaries of Data Flow Analysis</h1><h2 id="Input-and-Output-States"><a href="#Input-and-Output-States" class="headerlink" title="Input and Output States"></a>Input and Output States</h2><p>æ§åˆ¶æµå›¾ä¸Šæ— éæœ‰ä¸‰ç§æƒ…å½¢ï¼š é¡ºåºã€ åˆ†æ”¯ã€æ±‡èšã€‚ è¦åœ¨æ§åˆ¶æµåˆ†ææ•°æ®ï¼Œéœ€è¦äº†ç„¶æ•°æ®åœ¨æ§åˆ¶æµä¸Šçš„ä¼ é€’æƒ…å†µã€‚é‚£ä¹ˆæ•°æ®å¦‚ä½•å˜åŒ–çš„å‘¢ã€‚</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-05%20%E4%B8%8B%E5%8D%888.47.16.png" alt="æˆªå±2020-05-05 ä¸‹åˆ8.47.16 " style="zoom:50%;" />

<p>ä¸€æ¡statement, æ‰§è¡Œå‰çš„çŠ¶æ€æ˜¯<code>IN[s1]</code>ï¼Œ æ‰§è¡Œåçš„çŠ¶æ€æ˜¯ <code>OUT[s1]</code>ã€‚</p>
<p>é¡ºåºæ‰§è¡Œï¼Œs2çš„inputå°±æ˜¯s1çš„outputã€‚</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-05%20%E4%B8%8B%E5%8D%888.50.48.png" alt="æˆªå±2020-05-05 ä¸‹åˆ8.50.48 " style="zoom:50%;" />



<p>åˆ†æµã€æ±‡èšä¾ç„¶å¦‚æ­¤ï¼Œæ³¨æ„æ±‡èšç‚¹æœ‰ä¸€ä¸ªmeetç¬¦å·<code>^</code>(æ•°æ®ç»“åˆ)ã€‚ è¿™æ ·æ¯ä¸€å¥statementæ‰§è¡Œå‰å°±æ˜¯<code>input state</code> æ‰§è¡Œåå°±ç›¸å½“äºnewäº†ä¸€ä¸ª <code>output state</code>ã€‚è€Œæ¯ä¸€ä¸ª<code>state</code>éƒ½ä¸ä¸€ä¸ª<code>program point</code>ç›¸å…³ï¼Œè¿™é‡Œçš„<code>program point</code>é€šå¸¸æŒ‡çš„å°±æ˜¯è¿™æ¡statementçš„ä¸Šä¸€æ¡(before)å’Œä¸‹ä¸€æ¡(after)è¯­å¥ã€‚</p>
<p>æ ¹æ®<code>program point </code>çš„æ¦‚å¿µï¼Œ å¯ä»¥åšå¦‚ä¸‹å®šä¹‰ï¼š</p>
<blockquote>
<p>In each data-flow analysis application, we associate with every program point a <code>data-flow value</code> that represents an <code>abstraction</code> of the set of all possible <code>program states</code> that can be observed for thatÃ¥ point.</p>
</blockquote>
<p>å°±æ˜¯è¯´å¯¹æ¯ä¸€æ¡statementçš„å‰åprogram point ï¼Œä¼šå…³è”ä¸€ä¸ªæ•°æ®æµçš„å€¼ï¼Œè¿™ä¸ªå€¼ä»£è¡¨program states åœ¨è¿™ä¸€ç‚¹çš„æ‰€æœ‰æŠ½è±¡ï¼Œå³åœ¨è¿™ä¸€program pointä¸Šæ‰€æœ‰å¯èƒ½çš„å‡ºç°çŠ¶æ€ã€‚</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-05%20%E4%B8%8B%E5%8D%889.02.42.png" alt="æˆªå±2020-05-05 ä¸‹åˆ9.02.42 " style="zoom:50%;" />

<p>æ‹¿ç¬¬ä¸€èŠ‚æ¢æµ‹æ¯ä¸€ä¸ªå˜é‡çš„checkåšä¾‹å­ï¼Œè¦æ¢æµ‹æ¯ä¸€ä¸ªprogram point ä¸Šçš„program statesã€‚æˆ‘ä»¬å…ˆæŠ½è±¡å‡ºæˆ‘ä»¬å…³æ³¨çš„dataï¼Œ å³å˜é‡çš„ç¬¦å·ã€‚ å› æ­¤å°† codeä¸­çš„æ•°æ®æŠ½è±¡æˆç¬¦å·ï¼Œå½¢æˆä¸€ä¸ªå€¼åŸŸï¼Œå³æ ¹æ®åº”ç”¨åœºæ™¯ï¼Œå¯¹æ•°æ®æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€åšçš„æŠ½è±¡é›†(Domain)ï¼š</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-05%20%E4%B8%8B%E5%8D%889.06.40.png" alt="æˆªå±2020-05-05 ä¸‹åˆ9.06.40 " style="zoom:50%;" />

<p>Data-flow Analysis:</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-06%20%E4%B8%8B%E5%8D%888.46.49.png" alt="æˆªå±2020-05-06 ä¸‹åˆ8.46.49 " style="zoom:50%;" />

<ul>
<li>Dataflow analysis å°±æ˜¯å¯¹ç¨‹åºä¸­æ‰€æœ‰çš„statementsçš„input pointå’Œoutput pointå…³è”ä¸€ä¸ªdataflow value, è¿™ä¸ªsolutioné€šè¿‡è§£æä¸€ç³»åˆ—çš„<code>safe-approximation-deriected constraints</code>(çº¦æŸè§„åˆ™)ã€‚çº¦æŸè§„åˆ™åŸºäºï¼š1. semantics of statementsï¼ˆè½¬åŒ–å‡½æ•°ï¼‰ 2. flows of control(æ§åˆ¶æµä¿¡æ¯)</li>
</ul>
<h2 id="Transfer-Functionâ€™s-constraints"><a href="#Transfer-Functionâ€™s-constraints" class="headerlink" title="Transfer Functionâ€™s constraints"></a>Transfer Functionâ€™s constraints</h2><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2020-05-06-124827.png" alt="æˆªå±2020-05-06 ä¸‹åˆ8.48.18 " style="zoom:50%;" />

<p>å¦‚å›¾ä¸€ä¸ªå‰å‘åˆ†æä¸­ï¼Œ transfer function çš„å®šä¹‰å°±æ˜¯å°†Inè¿™ä¸€program point çš„stateè½¬åŒ–ä¸ºoutç‚¹çš„stateã€‚å°±æ˜¯ä¸Šå›¾å®šä¹‰ä¸­çš„ç¬¬ä¸€æ¡ï¼Œæ ¹æ®æŠ½è±¡çš„æ•°æ®ï¼Œå¯¹program pointè¿›è¡ŒçŠ¶æ€çš„è½¬ç§»ã€‚</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-06%20%E4%B8%8B%E5%8D%888.50.46.png" alt="æˆªå±2020-05-06 ä¸‹åˆ8.50.46 " style="zoom:50%;" />

<p>é€†å‘åˆ†æï¼Œæœ‰çš„åˆ†æä¹Ÿä¼šæŠŠæ•´ä¸ªæ§åˆ¶æµå›¾åç€å»ºç«‹ï¼Œ ç„¶ååœ¨ä¸Šè¾¹é¡ºç€åšæ•°æ®æµåˆ†æã€‚ æ­£å¸¸çš„é€†å‘æ•°æ®æµåˆ†æéƒ½æ˜¯æ²¿ç€CFGåšåæ–¹å‘åˆ†æã€‚</p>
<h2 id="Control-Flowâ€™s-Constraints"><a href="#Control-Flowâ€™s-Constraints" class="headerlink" title="Control Flowâ€™s Constraints"></a>Control Flowâ€™s Constraints</h2><p>ç¨‹åºä¸­çš„å¾ˆå¤šstatementså¯ä»¥é˜»æ­¢æˆä¸€ä¸ªBasic Blockï¼Œ é‚£ä¹ˆControl Flowâ€™s constraints å°±å¯ä»¥åˆ†ä¸ºBBå†…å’ŒBBå¤–ã€‚</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.19.56.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.19.56 " style="zoom:60%;" />



<p>Within a BB: çš„è¯æ²¡æœ‰åˆ†æ”¯ï¼Œ é‚£ä¹ˆå°±æ˜¯é¡ºåºæ‰§è¡Œï¼Œæ¯ä¸ªstmtçš„ inå°±æ˜¯ä¸Šä¸€ä¸ªstmtçš„outã€‚</p>
<p>Among BBs: è¿›å…¥çŠ¶æ€æ˜¯s1çš„çŠ¶æ€ï¼Œ å‡ºçŠ¶æ€å°±æ˜¯snçš„çŠ¶æ€ã€‚</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.23.31.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.23.31 " style="zoom:50%;" />



<p>å®šä¹‰æ­£å‘ã€åå‘çš„BBsé—´çš„Control Flowâ€™s Constraintsã€‚æ­£åå„æœ‰ä¸¤æ¡ï¼Œç¬¬ä¸€æ¡æ˜¯å®šä¹‰å‡ºå£ï¼Œ æ­£å‘ä¸ºä¾‹ã€‚OUT[B]æ˜¯å‡ºå£ï¼Œ fbè¿™ä¸ªä»å³å¾€å·¦ï¼Œä¾æ¬¡è¿æ¥åŸºæœ¬å—å†…æ¯ä¸€æ¡è¯­å¥çš„è½¬æ¢å‡½æ•°(æ³¨æ„transfer functionsæ—¶ä»å³å¾€å·¦è¿æ¥)ã€‚å¾—åˆ°å‡ºå£å¤„çš„è½¬åŒ–è§„åˆ™fbï¼Œä»¥IN[B]ä¸ºå‚æ•°å³å¯ã€‚è€Œç¬¬äºŒæ¡åˆ™æ˜¯å®šä¹‰å…¥å£ï¼Œ å…¥å£å¤„åˆ†æ”¯æ±‡åˆçš„æƒ…å†µï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦^ä¸Šè¿™äº›OUT[P]ã€‚é€†å‘åç€æ¥ï¼ŒåŒæ ·çš„åŸç†ã€‚</p>
<h1 id="0x03-Reaching-Definitions-Analysis"><a href="#0x03-Reaching-Definitions-Analysis" class="headerlink" title="0x03 Reaching Definitions Analysis"></a>0x03 Reaching Definitions Analysis</h1><img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.35.26.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.35.26 " style="zoom:80%;" />

<p>Reaching Definitions, å³ä¸€ä¸ªdefinitionsåœ¨ä¼ æ’­è·¯å¾„ä¸Šèƒ½ä¸èƒ½reachesåˆ°æŸä¸€ç‚¹ã€‚ </p>
<p><img src="/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%885.34.19.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.34.19"></p>
<p>ä¸€æ¡reaching definitionæ»¡è¶³ä¸‰ç‚¹ï¼š</p>
<ol>
<li>è·¯å¾„ä¸Šæœ‰ä¸€ä¸ªpoint p, å®šä¹‰äº†v</li>
<li>pæœ‰ä¸€æ¡è·¯å¾„æµå‘q</li>
<li>æ”¹è·¯å¾„ä¸Šï¼Œ væ²¡æœ‰è¢«é‡æ–°å®šä¹‰</li>
</ol>
<blockquote>
<p>Reaching Definitions æ˜¯ä¸€ä¸ªmay analysis, å®šä¹‰ä¸Šæ²¡æœ‰è¯´must, é‚£å°±æ˜¯over-approximationã€‚</p>
</blockquote>
<p>å…³æ³¨çš„æ•°æ®æ˜¯-&gt; definitions</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.04.45.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.04.45 " style="zoom:50%;" />

<p>å‡è®¾ç¨‹åºä¸­æœ‰100ä¸ªdefinitionsï¼ŒæŠ½è±¡ä¸º100ä¸ªæ¯”ç‰¹ä½ã€‚</p>
<p>æœ‰äº†æŠ½è±¡ï¼Œæˆ‘ä»¬å°±è¦æœ‰æ¯ä¸€ä¸ªprogram point çš„çŠ¶æ€è§„åˆ™ï¼Œè®¾è®¡transfer Functionï¼Œç»§è€Œè®¾è®¡control flowã€‚</p>
<blockquote>
<p>åˆ¶å®šé€šå¸¸å…ˆç»™å‡ºä¸€æ¡è¯­å¥ä¸ºä¾‹,å¯¹å…¶è¿›è¡Œ<code>safe-approximation</code></p>
</blockquote>
<p>å…ˆçœ‹transfer function</p>
<p><img src="/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.07.26.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.07.26"></p>
<p>è¿™æ˜¯ä¸€æ¡<code>definition</code>ï¼Œè¿™å¥è¯çš„è¯­ä¹‰è¦ä»<code>definitnion</code>çš„è§’åº¦å»çœ‹ã€‚æˆ‘ä»¬å»æŒ‡å®štrasferÃ¬  function , ä½¿å¾—è¿™ä¸€æ¡è¯­å¥ä¹‹å‰çš„program pointçŠ¶æ€INè½¬åŒ–ä¸ºOUTã€‚</p>
<p><img src="/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.11.36.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.11.36"></p>
<p>å‡è®¾è¿™ä¸ªBå—ä¸­åªæœ‰è¿™ä¸€æ¡statementï¼Œ é‚£ä¹ˆè¿™ä¸ªBçš„è½¬åŒ–å‡½æ•°å°±æ˜¯å¦‚ä¸Šå®šä¹‰ã€‚</p>
<ul>
<li>â€œgeneratesâ€ a definition D of variable v</li>
<li>â€œkillsâ€ all the other definitions in the program that define variable v</li>
<li>while leaving the remaining incoming definitions unaffectedï¼ˆä¸killçš„ï¼‰</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.18.53.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.18.53 " style="zoom:50%;" />

 

<p>B1ä¸­æœ‰ä¸‰ä¸ªdefinitions, genB1 &#x3D; {d1, d2, d3}ã€‚ ä¸‰ä¸ªå˜é‡i, j, aï¼Œé‚£ä¹ˆ killB1 &#x3D; {d4, d5, d6, d7}å³æ˜¯å…¶ä»–å®šä¹‰äº†i,j,açš„åœ°æ–¹ã€‚ä»¥æ­¤ç±»æ¨ã€‚</p>
<p>æ¥ç€å†æ¥çœ‹Control Flow</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%888.22.47.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.22.47 " style="zoom:50%;" />

<ul>
<li>å› ä¸ºæˆ‘ä»¬æ˜¯ä¸€ä¸ªmay analysisï¼Œ æ‰€ä»¥ç”¨Union æŠŠæ‰€æœ‰çš„Pathéƒ½è€ƒè™‘åˆ°ã€‚</li>
<li>é¡ºåºæ‰§è¡Œï¼Œå› æ­¤æ˜¯predecessorå‰è¶‹ã€‚è€ƒè™‘æ‰€æœ‰INBçš„å‰è¶‹ã€‚</li>
</ul>
<blockquote>
<p>ä¸€ä¸ªæ•°æ®æµåˆ†æï¼Œ æœ‰äº†æŠ½è±¡ï¼Œåˆ¶å®šäº†transfer functionå’Œcontrol flowè®¾è®¡ã€‚ä¸‹ä¸€æ­¥è®¾è®¡ç®—æ³•</p>
</blockquote>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.11.28.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.11.28 " style="zoom:60%;" />

<ul>
<li>é—®é¢˜ ï¼š<ol>
<li>ä¸ºä»€ä¹ˆ OUT[entry] &#x3D; ç©º ï¼ˆentryæ²¡æœ‰statementï¼‰</li>
<li>ä¸ºä»€ä¹ˆB\entry ï¼ˆæœ‰äº›ç®—æ³•è¾¹ç•Œè®¾ç½®æœ‰å¯èƒ½ä¸ä¸ºç©ºï¼ˆè¿™æ˜¯ä¸€ä¸ªç®—æ³•é€šç”¨æ¨¡ç‰ˆï¼‰ï¼‰</li>
<li>è¿­ä»£æ¡ä»¶<code>changes to any OUT occur</code> èƒ½åœå—ï¼Ÿï¼ˆInä¸å˜äº†ï¼ŒOutä¹Ÿä¸å˜äº†(åè¯´æ˜)ï¼‰</li>
</ol>
</li>
<li>ä¾‹å­</li>
</ul>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.10.53.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.10.53 " style="zoom:50%;" />



<p>ç¬¬ä¸€è½®è¿­ä»£ï¼š</p>
<img src="static-analysis-3/image-20210714204736937.png" alt="image-20210714204736937" style="zoom:50%;" />

<ol>
<li><p>å·¦ä¸Šè§’æ˜¯æˆ‘ä»¬è®¾è®¡çš„æ•°æ®æŠ½è±¡ï¼Œè¡¨ç¤ºdefinitionsçš„çŠ¶æ€ã€‚</p>
</li>
<li><p>åœ¨æ¯ä¸€ä¸ªoutç‚¹éƒ½ä¼šåˆå§‹åŒ–è¿™ä¸ªçŠ¶æ€æŠ½è±¡ï¼Œ ä¸ºç©º</p>
</li>
<li><p>å·¦ä¸‹è§’æ˜¯æˆ‘ä»¬çš„transfer function å½¢å¼åŒ–æè¿°ã€‚ </p>
</li>
<li><p>æ ¹æ®transfer functionå¼€å§‹ç¬¬ä¸€è½®è¿­ä»£ã€‚(åˆå¹¶IN-&gt;åŠ å…¥æ–°çš„d efinition-&gt;åˆ é™¤å…¶ä»–ç›¸åŒå˜é‡definitionå®šä¹‰çš„ä½ç½®)</p>
</li>
<li><p>å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªOUTå˜åŒ–äº†ï¼Œç»§ç»­è¿­ä»£</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.28.22.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.28.22 " style="zoom:50%;" />

<p>ï¼ˆä¸Šä¸€è½®OUTå³åˆå§‹åŒ–0000 0000ï¼‰</p>
</li>
</ol>
<p>ç¬¬äºŒè½®è¿­ä»£ï¼š</p>
   <img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.31.00.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.31.00 " style="zoom:50%;" />

<p>å¯ä»¥çœ‹åˆ°é«˜äº®å¤„ï¼Œ B2,B3çš„OUTå˜äº†ã€‚æ‰€ä»¥ä¾æ®ç®—æ³•ï¼Œè¿˜è¦è¿­ä»£ã€‚</p>
<p>ç¬¬ä¸‰è½®ï¼š</p>
<img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.32.26.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.32.26 " style="zoom:50%;" />

<p>OUTæ²¡æœ‰å˜ï¼Œå¾—åˆ°ç»“æœ</p>
<blockquote>
<p>è¾“å…¥ä¸€æ ·çš„ï¼Œ è¾“å‡ºä¹Ÿæ˜¯ä¸€æ ·çš„</p>
</blockquote>
<p>æ‰€ä»¥å¯ä»¥çœ‹å‡ºï¼š æ¯ä¸€ä¸ª<code>program point</code>æœ€åéƒ½ä¼šå…³è”ä¸€ä¸ª<code>data-flow value</code>ï¼Œè¿™ä¸ª<code>data-flow value</code>å°±æ˜¯åœ¨è¿™ä¸€ç‚¹è§‚å¯Ÿåˆ°çš„çŠ¶æ€ä¸Šçš„<code>æŠ½è±¡</code>ã€‚</p>
<ul>
<li>Data Abstraction: ä¸€ä¸ªdefinition èƒ½å¦reach</li>
</ul>
<p><img src="/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.35.09.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.35.09"></p>
<p>å¦‚ä½•å¾—åˆ°è¿™ä¸ªçŠ¶æ€ï¼š</p>
<p><img src="/static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.35.56.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.35.56"></p>
<p>è¿­ä»£æ•°æ®æµåˆ†æå°±æ˜¯ä¸åœçš„è¿­ä»£<code>directed constraints</code>(transfer functin å’Œ control flow handling)ï¼Œç›´åˆ°åœæ­¢æ‰¾åˆ°solutaionã€‚</p>
<h2 id="ç®—æ³•ä¸ºä»€ä¹ˆä¼šåœ"><a href="#ç®—æ³•ä¸ºä»€ä¹ˆä¼šåœ" class="headerlink" title="ç®—æ³•ä¸ºä»€ä¹ˆä¼šåœ"></a>ç®—æ³•ä¸ºä»€ä¹ˆä¼šåœ</h2><img src="static-analysis-3/%E6%88%AA%E5%B1%8F2020-05-09%20%E4%B8%8B%E5%8D%889.44.19.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.44.19 " style="zoom:50%;" />

<p>æ”¹ç®—æ³•æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå°±æ˜¯ä»–çš„transfer function, å…¶ç”±å››éƒ¨åˆ†ç»„æˆ:</p>
<ul>
<li>è¾“å…¥: IN[S]</li>
<li>è¾“å‡º: OUT[S]</li>
<li>kill_s</li>
<li>gen_s</li>
</ul>
<p>è¿™é‡Œï¼Œç”±äºgenå’Œkilléƒ½æ˜¯ç”±statementçš„æ€§è´¨å†³å®šçš„ï¼Œ æ‰€ä»¥statementé›†åˆå®šäº†ï¼Œgenå’Œkillçš„åŠ¨ä½œå°±å®šäº†ã€‚ </p>
<p>è€Œå˜åŒ–çš„å°±æ˜¯INå’ŒOUTäº†ã€‚ å¦‚æœä¸€è½®è¿­ä»£ä¸­ï¼ŒINæ–°åŠ å…¥äº†å†…å®¹(more facts)ï¼Œè¿™äº›æ–°çš„å†…å®¹æµå…¥Sååªæœ‰ä¸¤ç§ç»“æœï¼š 1. è¢«killäº† 2. survivorå­˜æ´»äº†ã€‚ é‚£ä¹ˆå­˜æ´»çš„å†…å®¹å°±ä¼šè¢«åŠ å…¥åˆ°OUTä¸­ã€‚</p>
<p><code>è€ŒOUTï¼Œä¸ä¼šå˜å°äº†</code>, æ„Ÿè§‰è¿™æ˜¯ç†è§£çš„å…³é”®ï¼Œå› ä¸ºå¦‚æœè¿›å…¥äº†out, å°±è¯æ˜æ²¡æœ‰è¢«killæ‰ï¼Œè€Œæ¯ä¸€è½®killçš„éƒ½æ˜¯ç›¸åŒçš„å†…å®¹ã€‚é‚£ä¹ˆæ—¢ç„¶è¿™ä¸€è½®survivoräº†ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†è¢«killæ‰äº†ã€‚ æ‰€ä»¥<code>OUTä¸ä¼šç¼©å°ï¼Œ åªä¼šå˜å¤§</code>ã€‚</p>
<p>é‚£ä¹ˆåœ¨è¿­ä»£æ•°æ®æµä¸­ï¼Œ æ¯ä¸€ä¸ª<code>OUTéƒ½æ²¡æœ‰å˜åŒ–ï¼Œç®—æ³•å°±åœæ­¢äº†</code>ï¼Œ å¯ä»¥çœ‹åˆ°OUTå°±æ˜¯åœ¨æ ¼ä¸Šå¾€ä¸Šçˆ¬ï¼Œæœ€ç»ˆä¸€å®šä¼šåˆ°è¾¾ä¸€ä¸ªä¸æ‡‚ç‚¹ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/05/05/static-analysis-3/" data-id="cl1d6yih8001kkjw5h5s16bkt" data-title="å—å¤§é™æ€åˆ†æ-3" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pl/" rel="tag">pl</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/05/08/xss-encode/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          XSSç¼–ç 
        
      </div>
    </a>
  
  
    <a href="/2020/05/04/static-analysis-2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">å—å¤§é™æ€åˆ†æ-2</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/paper/" rel="tag">paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pl/" rel="tag">pl</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/paper/" style="font-size: 15px;">paper</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/pl/" style="font-size: 20px;">pl</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/02/24/web/">Webåº”ç”¨ç³»ä¸­æ³¨å…¥ç±»æ¼æ´è°ƒç ”</a>
          </li>
        
          <li>
            <a href="/2022/02/18/data-mining/">data_mining</a>
          </li>
        
          <li>
            <a href="/2022/02/14/pop/">A Survey about PHP Object Injection</a>
          </li>
        
          <li>
            <a href="/2022/02/06/logic-machine/">Logic Machine</a>
          </li>
        
          <li>
            <a href="/2022/01/26/fuz/">Fuzzing</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 iohex<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>