<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="pl," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="03 Data Flow Analysis I è¯¾ç¨‹é“¾æ¥    Overiew of Data Flow Analysis  12:05   Preliminaries of Data Flow Analysis 23:10  Notations for Transfer Functionâ€™s Constraints Notations for Control Flowsâ€™s Constrain">
<meta property="og:type" content="article">
<meta property="og:title" content="å—å¤§é™æ€åˆ†æ-3">
<meta property="og:url" content="http://example.com/2020/05/05/static-analysis-3/index.html">
<meta property="og:site_name" content="Penlab">
<meta property="og:description" content="03 Data Flow Analysis I è¯¾ç¨‹é“¾æ¥    Overiew of Data Flow Analysis  12:05   Preliminaries of Data Flow Analysis 23:10  Notations for Transfer Functionâ€™s Constraints Notations for Control Flowsâ€™s Constrain">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044435.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044438.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044442.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044445.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044447.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044450.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044452.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044456.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044458.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044501.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044503.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044505.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044507.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044510.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044512.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044515.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044517.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044521.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044525.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044528.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044531.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044534.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044535.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044540.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044544.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044548.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044546.png">
<meta property="og:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044550.png">
<meta property="article:published_time" content="2020-05-05T10:08:09.000Z">
<meta property="article:modified_time" content="2022-03-31T04:45:52.008Z">
<meta property="article:author" content="iohex">
<meta property="article:tag" content="pl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044435.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2020/05/05/static-analysis-3/"/>





  <title>å—å¤§é™æ€åˆ†æ-3 | Penlab</title>
  














<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Penlab</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">The Art of Flow</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/05/static-analysis-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Penlab">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">å—å¤§é™æ€åˆ†æ-3</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-05T18:08:09+08:00">
                2020-05-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="03-data-flow-analysis-i"><a class="markdownIt-Anchor" href="#03-data-flow-analysis-i"></a> 03 Data Flow Analysis I</h1>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1oE411K79d">è¯¾ç¨‹é“¾æ¥</a></p>
<blockquote>
<ol>
<li>
<p>Overiew of Data Flow Analysis  12:05</p>
</li>
<li>
<p>Preliminaries of Data Flow Analysis 23:10</p>
<ol>
<li>Notations for Transfer Functionâ€™s Constraints</li>
<li>Notations for Control Flowsâ€™s Constraints 34:40</li>
</ol>
</li>
<li>
<p>Reaching Definitions Analysis 39:10</p>
<ol>
<li>Issues Not Covered 41:30</li>
<li>Reaching Definitions 44:25</li>
<li>Understanding Reaching Definitions(Transfer Function&amp;Control Flow) 58:00</li>
<li>Algorithm of Reaching Definitions Analysis 1:04:00</li>
<li>ä¸¾ä¸ªæ —å­ğŸŒ°ï¼š1:12:00</li>
</ol>
</li>
</ol>
</blockquote>
<h1 id="0x01-data-flow-analysishow-data-flows-on-cfg"><a class="markdownIt-Anchor" href="#0x01-data-flow-analysishow-data-flows-on-cfg"></a> 0x01 Data Flow Analysis(How data flows on CFG)</h1>
<p>æ•°æ®æµåˆ†æï¼Œæè¿°çš„æ˜¯<code>How Data Flows on CFG(æ•°æ®åœ¨æ§åˆ¶æµä¸Šçš„ä¼ é€’æƒ…å†µ)</code>ã€‚</p>
<p>ä»€ä¹ˆæ ·çš„DATA: <code>application-specific Data</code>ã€‚</p>
<p>Flowï¼š</p>
<p>å³åœ¨ä¸åŒåœºæ™¯çš„æ•°æ®æµåˆ†æéœ€è¦å…³æ³¨çš„æ•°æ®æŠ½è±¡(data abstraction)ä¸åŒï¼Œå…¶å®‰å…¨ç­–ç•¥ä¹Ÿä¸åŒ(flow safe-approximation strategies)ï¼Œ é‚£ä¹ˆæ ¹æ®å®‰å…¨ç­–ç•¥ï¼Œä¹Ÿä¼šåˆ¶å®šç›¸åº”çš„è½¬åŒ–å‡½æ•°(transfer functions)å’Œè¾¹(control-flow handlings)ã€‚</p>
<p>Analysis:</p>
<blockquote>
<p>May analysis:  outputs information that may be true (over-approximation). å¯èƒ½çš„éƒ½æŠ¥å‡ºæ¥</p>
<p>Must analysis: outputs information that must be true (under-approximation). æŠ¥å‡ºæ¥çš„å¿…é¡»å¯¹</p>
<p>ä¸¤è€…åº”ç”¨äºä¸åŒåœºæ™¯ï¼Œéƒ½æ˜¯ä¸ºäº†ç»“æœæ˜¯æ­£ç¡®çš„ã€‚ä»¥ç»“æœçš„æ­£ç¡®ä¸ºç›®çš„ï¼Œç§°ä¹‹ä¸ºsafe-approximationã€‚</p>
</blockquote>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044435.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.10.09 " style="zoom: 67%;" />
<p>æ‰€ä»¥å¯¹äºæ•°æ®æµåˆ†ææ¥è¯´ï¼š</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044438.png" alt="image-20210712194843394" style="zoom:50%;" />
<p>ä¸åŒçš„æ•°æ®æµåˆ†æåº”ç”¨ï¼Œ å…³æ³¨çš„dataå°±ä¸åŒï¼Œå…¶safe-approximationç­–ç•¥å°±ä¸åŒ(transfer functions å’Œcontrol-flow handlingsä¸åŒ)ã€‚</p>
<h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“ï¼š</h2>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044442.png" alt="image-20210714194847170" style="zoom:50%;" />
<p>æ•°æ®æµåˆ†æå°±æ˜¯<code>application-specific Data</code>(ä¸åŒçš„æ•°æ®æŠ½è±¡ç­–ç•¥)ï¼Œå¦‚ä½•åœ¨CFGä¸Š(<code>a program</code>)æ²¿ç€ç‚¹(<code>Transfer function</code>)å’ŒEdges(<code>control flows</code>)æµåŠ¨çš„è¯„ä¼°(<code>safe-approximation</code>)</p>
<h1 id="0x02-prelimiaries-of-data-flow-analysis"><a class="markdownIt-Anchor" href="#0x02-prelimiaries-of-data-flow-analysis"></a> 0x02 Prelimiaries of Data Flow Analysis</h1>
<h2 id="input-and-output-states"><a class="markdownIt-Anchor" href="#input-and-output-states"></a> Input and Output States</h2>
<p>æ§åˆ¶æµå›¾ä¸Šæ— éæœ‰ä¸‰ç§æƒ…å½¢ï¼š é¡ºåºã€ åˆ†æ”¯ã€æ±‡èšã€‚ è¦åœ¨æ§åˆ¶æµåˆ†ææ•°æ®ï¼Œéœ€è¦äº†ç„¶æ•°æ®åœ¨æ§åˆ¶æµä¸Šçš„ä¼ é€’æƒ…å†µã€‚é‚£ä¹ˆæ•°æ®å¦‚ä½•å˜åŒ–çš„å‘¢ã€‚</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044445.png" alt="æˆªå±2020-05-05 ä¸‹åˆ8.47.16 " style="zoom:50%;" />
<p>ä¸€æ¡statement, æ‰§è¡Œå‰çš„çŠ¶æ€æ˜¯<code>IN[s1]</code>ï¼Œ æ‰§è¡Œåçš„çŠ¶æ€æ˜¯ <code>OUT[s1]</code>ã€‚</p>
<p>é¡ºåºæ‰§è¡Œï¼Œs2çš„inputå°±æ˜¯s1çš„outputã€‚</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044447.png" alt="æˆªå±2020-05-05 ä¸‹åˆ8.50.48 " style="zoom:50%;" />
<p>åˆ†æµã€æ±‡èšä¾ç„¶å¦‚æ­¤ï¼Œæ³¨æ„æ±‡èšç‚¹æœ‰ä¸€ä¸ªmeetç¬¦å·<code>^</code>(æ•°æ®ç»“åˆ)ã€‚ è¿™æ ·æ¯ä¸€å¥statementæ‰§è¡Œå‰å°±æ˜¯<code>input state</code> æ‰§è¡Œåå°±ç›¸å½“äºnewäº†ä¸€ä¸ª <code>output state</code>ã€‚è€Œæ¯ä¸€ä¸ª<code>state</code>éƒ½ä¸ä¸€ä¸ª<code>program point</code>ç›¸å…³ï¼Œè¿™é‡Œçš„<code>program point</code>é€šå¸¸æŒ‡çš„å°±æ˜¯è¿™æ¡statementçš„ä¸Šä¸€æ¡(before)å’Œä¸‹ä¸€æ¡(after)è¯­å¥ã€‚</p>
<p>æ ¹æ®<code>program point</code>çš„æ¦‚å¿µï¼Œ å¯ä»¥åšå¦‚ä¸‹å®šä¹‰ï¼š</p>
<blockquote>
<p>In each data-flow analysis application, we associate with every program point a <code>data-flow value</code> that represents an <code>abstraction</code> of the set of all possible <code>program states</code> that can be observed for thatÃ¥ point.</p>
</blockquote>
<p>å°±æ˜¯è¯´å¯¹æ¯ä¸€æ¡statementçš„å‰åprogram point ï¼Œä¼šå…³è”ä¸€ä¸ªæ•°æ®æµçš„å€¼ï¼Œè¿™ä¸ªå€¼ä»£è¡¨program states åœ¨è¿™ä¸€ç‚¹çš„æ‰€æœ‰æŠ½è±¡ï¼Œå³åœ¨è¿™ä¸€program pointä¸Šæ‰€æœ‰å¯èƒ½çš„å‡ºç°çŠ¶æ€ã€‚</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044450.png" alt="æˆªå±2020-05-05 ä¸‹åˆ9.02.42 " style="zoom:50%;" />
<p>æ‹¿ç¬¬ä¸€èŠ‚æ¢æµ‹æ¯ä¸€ä¸ªå˜é‡çš„checkåšä¾‹å­ï¼Œè¦æ¢æµ‹æ¯ä¸€ä¸ªprogram point ä¸Šçš„program statesã€‚æˆ‘ä»¬å…ˆæŠ½è±¡å‡ºæˆ‘ä»¬å…³æ³¨çš„dataï¼Œ å³å˜é‡çš„ç¬¦å·ã€‚ å› æ­¤å°† codeä¸­çš„æ•°æ®æŠ½è±¡æˆç¬¦å·ï¼Œå½¢æˆä¸€ä¸ªå€¼åŸŸï¼Œå³æ ¹æ®åº”ç”¨åœºæ™¯ï¼Œå¯¹æ•°æ®æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€åšçš„æŠ½è±¡é›†(Domain)ï¼š</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044452.png" alt="æˆªå±2020-05-05 ä¸‹åˆ9.06.40 " style="zoom:50%;" />
<p>Data-flow Analysis:</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044456.png" alt="æˆªå±2020-05-06 ä¸‹åˆ8.46.49 " style="zoom:50%;" />
<ul>
<li>Dataflow analysis å°±æ˜¯å¯¹ç¨‹åºä¸­æ‰€æœ‰çš„statementsçš„input pointå’Œoutput pointå…³è”ä¸€ä¸ªdataflow value, è¿™ä¸ªsolutioné€šè¿‡è§£æä¸€ç³»åˆ—çš„<code>safe-approximation-deriected constraints</code>(çº¦æŸè§„åˆ™)ã€‚çº¦æŸè§„åˆ™åŸºäºï¼š1. semantics of statementsï¼ˆè½¬åŒ–å‡½æ•°ï¼‰ 2. flows of control(æ§åˆ¶æµä¿¡æ¯)</li>
</ul>
<h2 id="transfer-functions-constraints"><a class="markdownIt-Anchor" href="#transfer-functions-constraints"></a> Transfer Functionâ€™s constraints</h2>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044458.png" alt="æˆªå±2020-05-06 ä¸‹åˆ8.48.18 " style="zoom:50%;" />
<p>å¦‚å›¾ä¸€ä¸ªå‰å‘åˆ†æä¸­ï¼Œ transfer function çš„å®šä¹‰å°±æ˜¯å°†Inè¿™ä¸€program point çš„stateè½¬åŒ–ä¸ºoutç‚¹çš„stateã€‚å°±æ˜¯ä¸Šå›¾å®šä¹‰ä¸­çš„ç¬¬ä¸€æ¡ï¼Œæ ¹æ®æŠ½è±¡çš„æ•°æ®ï¼Œå¯¹program pointè¿›è¡ŒçŠ¶æ€çš„è½¬ç§»ã€‚</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044501.png" alt="æˆªå±2020-05-06 ä¸‹åˆ8.50.46 " style="zoom:50%;" />
<p>é€†å‘åˆ†æï¼Œæœ‰çš„åˆ†æä¹Ÿä¼šæŠŠæ•´ä¸ªæ§åˆ¶æµå›¾åç€å»ºç«‹ï¼Œ ç„¶ååœ¨ä¸Šè¾¹é¡ºç€åšæ•°æ®æµåˆ†æã€‚ æ­£å¸¸çš„é€†å‘æ•°æ®æµåˆ†æéƒ½æ˜¯æ²¿ç€CFGåšåæ–¹å‘åˆ†æã€‚</p>
<h2 id="control-flows-constraints"><a class="markdownIt-Anchor" href="#control-flows-constraints"></a> Control Flowâ€™s Constraints</h2>
<p>ç¨‹åºä¸­çš„å¾ˆå¤šstatementså¯ä»¥é˜»æ­¢æˆä¸€ä¸ªBasic Blockï¼Œ é‚£ä¹ˆControl Flowâ€™s constraints å°±å¯ä»¥åˆ†ä¸ºBBå†…å’ŒBBå¤–ã€‚</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044503.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.19.56 " style="zoom:60%;" />
<p>Within a BB: çš„è¯æ²¡æœ‰åˆ†æ”¯ï¼Œ é‚£ä¹ˆå°±æ˜¯é¡ºåºæ‰§è¡Œï¼Œæ¯ä¸ªstmtçš„ inå°±æ˜¯ä¸Šä¸€ä¸ªstmtçš„outã€‚</p>
<p>Among BBs: è¿›å…¥çŠ¶æ€æ˜¯s1çš„çŠ¶æ€ï¼Œ å‡ºçŠ¶æ€å°±æ˜¯snçš„çŠ¶æ€ã€‚</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044505.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.23.31 " style="zoom:50%;" />
<p>å®šä¹‰æ­£å‘ã€åå‘çš„BBsé—´çš„Control Flowâ€™s Constraintsã€‚æ­£åå„æœ‰ä¸¤æ¡ï¼Œç¬¬ä¸€æ¡æ˜¯å®šä¹‰å‡ºå£ï¼Œ æ­£å‘ä¸ºä¾‹ã€‚OUT[B]æ˜¯å‡ºå£ï¼Œ fbè¿™ä¸ªä»å³å¾€å·¦ï¼Œä¾æ¬¡è¿æ¥åŸºæœ¬å—å†…æ¯ä¸€æ¡è¯­å¥çš„è½¬æ¢å‡½æ•°(æ³¨æ„transfer functionsæ—¶ä»å³å¾€å·¦è¿æ¥)ã€‚å¾—åˆ°å‡ºå£å¤„çš„è½¬åŒ–è§„åˆ™fbï¼Œä»¥IN[B]ä¸ºå‚æ•°å³å¯ã€‚è€Œç¬¬äºŒæ¡åˆ™æ˜¯å®šä¹‰å…¥å£ï¼Œ å…¥å£å¤„åˆ†æ”¯æ±‡åˆçš„æƒ…å†µï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦^ä¸Šè¿™äº›OUT[P]ã€‚é€†å‘åç€æ¥ï¼ŒåŒæ ·çš„åŸç†ã€‚</p>
<h1 id="0x03-reaching-definitions-analysis"><a class="markdownIt-Anchor" href="#0x03-reaching-definitions-analysis"></a> 0x03 Reaching Definitions Analysis</h1>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044507.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.35.26 " style="zoom:80%;" />
<p>Reaching Definitions, å³ä¸€ä¸ªdefinitionsåœ¨ä¼ æ’­è·¯å¾„ä¸Šèƒ½ä¸èƒ½reachesåˆ°æŸä¸€ç‚¹ã€‚</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044510.png" alt="æˆªå±2020-05-09 ä¸‹åˆ5.34.19" /></p>
<p>ä¸€æ¡reaching definitionæ»¡è¶³ä¸‰ç‚¹ï¼š</p>
<ol>
<li>è·¯å¾„ä¸Šæœ‰ä¸€ä¸ªpoint p, å®šä¹‰äº†v</li>
<li>pæœ‰ä¸€æ¡è·¯å¾„æµå‘q</li>
<li>æ”¹è·¯å¾„ä¸Šï¼Œ væ²¡æœ‰è¢«é‡æ–°å®šä¹‰</li>
</ol>
<blockquote>
<p>Reaching Definitions æ˜¯ä¸€ä¸ªmay analysis, å®šä¹‰ä¸Šæ²¡æœ‰è¯´must, é‚£å°±æ˜¯over-approximationã€‚</p>
</blockquote>
<p>å…³æ³¨çš„æ•°æ®æ˜¯-&gt; definitions</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044512.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.04.45 " style="zoom:50%;" />
<p>å‡è®¾ç¨‹åºä¸­æœ‰100ä¸ªdefinitionsï¼ŒæŠ½è±¡ä¸º100ä¸ªæ¯”ç‰¹ä½ã€‚</p>
<p>æœ‰äº†æŠ½è±¡ï¼Œæˆ‘ä»¬å°±è¦æœ‰æ¯ä¸€ä¸ªprogram point çš„çŠ¶æ€è§„åˆ™ï¼Œè®¾è®¡transfer Functionï¼Œç»§è€Œè®¾è®¡control flowã€‚</p>
<blockquote>
<p>åˆ¶å®šé€šå¸¸å…ˆç»™å‡ºä¸€æ¡è¯­å¥ä¸ºä¾‹,å¯¹å…¶è¿›è¡Œ<code>safe-approximation</code></p>
</blockquote>
<p>å…ˆçœ‹transfer function</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044515.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.07.26" /></p>
<p>è¿™æ˜¯ä¸€æ¡<code>definition</code>ï¼Œè¿™å¥è¯çš„è¯­ä¹‰è¦ä»<code>definitnion</code>çš„è§’åº¦å»çœ‹ã€‚æˆ‘ä»¬å»æŒ‡å®štrasferÃ¬  function , ä½¿å¾—è¿™ä¸€æ¡è¯­å¥ä¹‹å‰çš„program pointçŠ¶æ€INè½¬åŒ–ä¸ºOUTã€‚</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044517.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.11.36" /></p>
<p>å‡è®¾è¿™ä¸ªBå—ä¸­åªæœ‰è¿™ä¸€æ¡statementï¼Œ é‚£ä¹ˆè¿™ä¸ªBçš„è½¬åŒ–å‡½æ•°å°±æ˜¯å¦‚ä¸Šå®šä¹‰ã€‚</p>
<ul>
<li>â€œgeneratesâ€ a definition D of variable v</li>
<li>â€œkillsâ€ all the other definitions in the program that define variable v</li>
<li>while leaving the remaining incoming definitions unaffectedï¼ˆä¸killçš„ï¼‰</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044521.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.18.53 " style="zoom:50%;" />
<p>B1ä¸­æœ‰ä¸‰ä¸ªdefinitions, genB1 = {d1, d2, d3}ã€‚ ä¸‰ä¸ªå˜é‡i, j, aï¼Œé‚£ä¹ˆ killB1 = {d4, d5, d6, d7}å³æ˜¯å…¶ä»–å®šä¹‰äº†i,j,açš„åœ°æ–¹ã€‚ä»¥æ­¤ç±»æ¨ã€‚</p>
<p>æ¥ç€å†æ¥çœ‹Control Flow</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044525.png" alt="æˆªå±2020-05-09 ä¸‹åˆ8.22.47 " style="zoom:50%;" />
<ul>
<li>å› ä¸ºæˆ‘ä»¬æ˜¯ä¸€ä¸ªmay analysisï¼Œ æ‰€ä»¥ç”¨Union æŠŠæ‰€æœ‰çš„Pathéƒ½è€ƒè™‘åˆ°ã€‚</li>
<li>é¡ºåºæ‰§è¡Œï¼Œå› æ­¤æ˜¯predecessorå‰è¶‹ã€‚è€ƒè™‘æ‰€æœ‰INBçš„å‰è¶‹ã€‚</li>
</ul>
<blockquote>
<p>ä¸€ä¸ªæ•°æ®æµåˆ†æï¼Œ æœ‰äº†æŠ½è±¡ï¼Œåˆ¶å®šäº†transfer functionå’Œcontrol flowè®¾è®¡ã€‚ä¸‹ä¸€æ­¥è®¾è®¡ç®—æ³•</p>
</blockquote>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044528.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.11.28 " style="zoom:60%;" />
<ul>
<li>é—®é¢˜ ï¼š
<ol>
<li>ä¸ºä»€ä¹ˆ OUT[entry] = ç©º ï¼ˆentryæ²¡æœ‰statementï¼‰</li>
<li>ä¸ºä»€ä¹ˆB\entry ï¼ˆæœ‰äº›ç®—æ³•è¾¹ç•Œè®¾ç½®æœ‰å¯èƒ½ä¸ä¸ºç©ºï¼ˆè¿™æ˜¯ä¸€ä¸ªç®—æ³•é€šç”¨æ¨¡ç‰ˆï¼‰ï¼‰</li>
<li>è¿­ä»£æ¡ä»¶<code>changes to any OUT occur</code> èƒ½åœå—ï¼Ÿï¼ˆInä¸å˜äº†ï¼ŒOutä¹Ÿä¸å˜äº†(åè¯´æ˜)ï¼‰</li>
</ol>
</li>
<li>ä¾‹å­</li>
</ul>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044531.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.10.53 " style="zoom:50%;" />
<p>ç¬¬ä¸€è½®è¿­ä»£ï¼š</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044534.png" alt="image-20210714204736937" style="zoom:50%;" />
<ol>
<li>
<p>å·¦ä¸Šè§’æ˜¯æˆ‘ä»¬è®¾è®¡çš„æ•°æ®æŠ½è±¡ï¼Œè¡¨ç¤ºdefinitionsçš„çŠ¶æ€ã€‚</p>
</li>
<li>
<p>åœ¨æ¯ä¸€ä¸ªoutç‚¹éƒ½ä¼šåˆå§‹åŒ–è¿™ä¸ªçŠ¶æ€æŠ½è±¡ï¼Œ ä¸ºç©º</p>
</li>
<li>
<p>å·¦ä¸‹è§’æ˜¯æˆ‘ä»¬çš„transfer function å½¢å¼åŒ–æè¿°ã€‚</p>
</li>
<li>
<p>æ ¹æ®transfer functionå¼€å§‹ç¬¬ä¸€è½®è¿­ä»£ã€‚(åˆå¹¶IN-&gt;åŠ å…¥æ–°çš„d efinition-&gt;åˆ é™¤å…¶ä»–ç›¸åŒå˜é‡definitionå®šä¹‰çš„ä½ç½®)</p>
</li>
<li>
<p>å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªOUTå˜åŒ–äº†ï¼Œç»§ç»­è¿­ä»£</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044535.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.28.22 " style="zoom:50%;" />
<p>ï¼ˆä¸Šä¸€è½®OUTå³åˆå§‹åŒ–0000 0000ï¼‰</p>
</li>
</ol>
<p>ç¬¬äºŒè½®è¿­ä»£ï¼š</p>
   <img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044540.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.31.00 " style="zoom:50%;" />
<p>å¯ä»¥çœ‹åˆ°é«˜äº®å¤„ï¼Œ B2,B3çš„OUTå˜äº†ã€‚æ‰€ä»¥ä¾æ®ç®—æ³•ï¼Œè¿˜è¦è¿­ä»£ã€‚</p>
<p>ç¬¬ä¸‰è½®ï¼š</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044544.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.32.26 " style="zoom:50%;" />
<p>OUTæ²¡æœ‰å˜ï¼Œå¾—åˆ°ç»“æœ</p>
<blockquote>
<p>è¾“å…¥ä¸€æ ·çš„ï¼Œ è¾“å‡ºä¹Ÿæ˜¯ä¸€æ ·çš„</p>
</blockquote>
<p>æ‰€ä»¥å¯ä»¥çœ‹å‡ºï¼š æ¯ä¸€ä¸ª<code>program point</code>æœ€åéƒ½ä¼šå…³è”ä¸€ä¸ª<code>data-flow value</code>ï¼Œè¿™ä¸ª<code>data-flow value</code>å°±æ˜¯åœ¨è¿™ä¸€ç‚¹è§‚å¯Ÿåˆ°çš„çŠ¶æ€ä¸Šçš„<code>æŠ½è±¡</code>ã€‚</p>
<ul>
<li>Data Abstraction: ä¸€ä¸ªdefinition èƒ½å¦reach</li>
</ul>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044548.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.35.09" /></p>
<p>å¦‚ä½•å¾—åˆ°è¿™ä¸ªçŠ¶æ€ï¼š</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044546.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.35.56" /></p>
<p>è¿­ä»£æ•°æ®æµåˆ†æå°±æ˜¯ä¸åœçš„è¿­ä»£<code>directed constraints</code>(transfer functin å’Œ control flow handling)ï¼Œç›´åˆ°åœæ­¢æ‰¾åˆ°solutaionã€‚</p>
<h2 id="ç®—æ³•ä¸ºä»€ä¹ˆä¼šåœ"><a class="markdownIt-Anchor" href="#ç®—æ³•ä¸ºä»€ä¹ˆä¼šåœ"></a> ç®—æ³•ä¸ºä»€ä¹ˆä¼šåœ</h2>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-03-31-044550.png" alt="æˆªå±2020-05-09 ä¸‹åˆ9.44.19 " style="zoom:50%;" />
<p>æ”¹ç®—æ³•æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå°±æ˜¯ä»–çš„transfer function, å…¶ç”±å››éƒ¨åˆ†ç»„æˆ:</p>
<ul>
<li>è¾“å…¥: IN[S]</li>
<li>è¾“å‡º: OUT[S]</li>
<li>kill_s</li>
<li>gen_s</li>
</ul>
<p>è¿™é‡Œï¼Œç”±äºgenå’Œkilléƒ½æ˜¯ç”±statementçš„æ€§è´¨å†³å®šçš„ï¼Œ æ‰€ä»¥statementé›†åˆå®šäº†ï¼Œgenå’Œkillçš„åŠ¨ä½œå°±å®šäº†ã€‚</p>
<p>è€Œå˜åŒ–çš„å°±æ˜¯INå’ŒOUTäº†ã€‚ å¦‚æœä¸€è½®è¿­ä»£ä¸­ï¼ŒINæ–°åŠ å…¥äº†å†…å®¹(more facts)ï¼Œè¿™äº›æ–°çš„å†…å®¹æµå…¥Sååªæœ‰ä¸¤ç§ç»“æœï¼š 1. è¢«killäº† 2. survivorå­˜æ´»äº†ã€‚ é‚£ä¹ˆå­˜æ´»çš„å†…å®¹å°±ä¼šè¢«åŠ å…¥åˆ°OUTä¸­ã€‚</p>
<p><code>è€ŒOUTï¼Œä¸ä¼šå˜å°äº†</code>, æ„Ÿè§‰è¿™æ˜¯ç†è§£çš„å…³é”®ï¼Œå› ä¸ºå¦‚æœè¿›å…¥äº†out, å°±è¯æ˜æ²¡æœ‰è¢«killæ‰ï¼Œè€Œæ¯ä¸€è½®killçš„éƒ½æ˜¯ç›¸åŒçš„å†…å®¹ã€‚é‚£ä¹ˆæ—¢ç„¶è¿™ä¸€è½®survivoräº†ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†è¢«killæ‰äº†ã€‚ æ‰€ä»¥<code>OUTä¸ä¼šç¼©å°ï¼Œ åªä¼šå˜å¤§</code>ã€‚</p>
<p>é‚£ä¹ˆåœ¨è¿­ä»£æ•°æ®æµä¸­ï¼Œ æ¯ä¸€ä¸ª<code>OUTéƒ½æ²¡æœ‰å˜åŒ–ï¼Œç®—æ³•å°±åœæ­¢äº†</code>ï¼Œ å¯ä»¥çœ‹åˆ°OUTå°±æ˜¯åœ¨æ ¼ä¸Šå¾€ä¸Šçˆ¬ï¼Œæœ€ç»ˆä¸€å®šä¼šåˆ°è¾¾ä¸€ä¸ªä¸æ‡‚ç‚¹ã€‚</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/pl/" rel="tag"># pl</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/05/04/static-analysis-2/" rel="next" title="å—å¤§é™æ€åˆ†æ-2">
                <i class="fa fa-chevron-left"></i> å—å¤§é™æ€åˆ†æ-2
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/05/08/xss-encode/" rel="prev" title="XSSç¼–ç ">
                XSSç¼–ç  <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="" />
          <p class="site-author-name" itemprop="name"></p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">53</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#03-data-flow-analysis-i"><span class="nav-number">1.</span> <span class="nav-text"> 03 Data Flow Analysis I</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x01-data-flow-analysishow-data-flows-on-cfg"><span class="nav-number">2.</span> <span class="nav-text"> 0x01 Data Flow Analysis(How data flows on CFG)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">2.1.</span> <span class="nav-text"> æ€»ç»“ï¼š</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x02-prelimiaries-of-data-flow-analysis"><span class="nav-number">3.</span> <span class="nav-text"> 0x02 Prelimiaries of Data Flow Analysis</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#input-and-output-states"><span class="nav-number">3.1.</span> <span class="nav-text"> Input and Output States</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#transfer-functions-constraints"><span class="nav-number">3.2.</span> <span class="nav-text"> Transfer Functionâ€™s constraints</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#control-flows-constraints"><span class="nav-number">3.3.</span> <span class="nav-text"> Control Flowâ€™s Constraints</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x03-reaching-definitions-analysis"><span class="nav-number">4.</span> <span class="nav-text"> 0x03 Reaching Definitions Analysis</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%97%E6%B3%95%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E5%81%9C"><span class="nav-number">4.1.</span> <span class="nav-text"> ç®—æ³•ä¸ºä»€ä¹ˆä¼šåœ</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">iohex</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  
  


  

  

</body>
</html>
