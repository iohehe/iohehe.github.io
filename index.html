<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Penlab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Penlab">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Penlab">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="iohex">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Penlab" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Penlab</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-web" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/02/24/web/" class="article-date">
  <time class="dt-published" datetime="2022-02-24T00:37:13.000Z" itemprop="datePublished">2022-02-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/02/24/web/">Web应用系中注入类漏洞调研</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>本文基于Securing web applications from injection and logic vulnerabilities: Approaches and chanlleengs[1]</p>
<p>首先给出一张典型的Web架构图， 分为前后端两个部分，从Architecture,Software,以及Technology三个方面去说的。</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1gzob7ekyh4j20jw06lwf2.jpg"></p>
<h1 id="Web漏洞分类"><a href="#Web漏洞分类" class="headerlink" title="Web漏洞分类"></a>Web漏洞分类</h1><p>Web系统面临的主要攻击有:<br>    - 不充分地输入验证(improper input validation)，缺少或者错误的输入验证，可触发**注入类漏洞(Injecton Vulnerabilities)<strong>。<br>    - 不充分地身份验证(improper authentication and authorization mechanisms)，错误地实现身份验证(authentication functions)与会话管理(access-control policies)。可触发</strong>业务逻辑类漏洞(Business Logic Vulnerabilities)<strong>。<br>    - 不充分地会话管理(improper managerment of session information)，与session令牌的使用有关，可触发</strong>会话管理类漏洞(Session Manangement Vulnerabilities)**。</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1gzoc8ywo89j20ml0adgme.jpg"></p>
<p>根据上图，总结一下，Web系统里最常见也是流行度最广的漏洞类型有三类： 注入类、业务逻辑类、会话管理类。</p>
<p>本文主要介绍注入。</p>
<h1 id="注入漏洞"><a href="#注入漏洞" class="headerlink" title="注入漏洞"></a>注入漏洞</h1><p>注入类漏洞本质上是攻击者可以通过操纵用作某种查询的user-input parameters，来改变该查询的语法。从而造成了应用系统的安全问题。主要引发该类漏洞的原因是缺少输入验证或者验证不充分。主要的注入漏洞有XSS和SQL注入两种。</p>
<h1 id="相关工作"><a href="#相关工作" class="headerlink" title="相关工作"></a>相关工作</h1><p>(先整理XSS)</p>
<h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><p>尽管已经有很多XSS漏洞相关的工作了，但是XSS攻击在Web系统中仍然十分的流行。<br>Weinberger et al.的工作生成web开发框架不能够很好地提供XSS的防护(在上下文敏感分析方面)，以及不能够应对DOM-based XSS攻击。另一方面，taint-based的漏洞挖掘方法不能够handle动态特性与object-oriented code。</p>
<p>防止XSS可以通过secure coding pratices以及使用secure development frameworks。 目前的漏洞探测方法聚焦于identifying missing sanitization routines 以及 analyzing the effectiveness of sanitization routes。</p>
<h3 id="XSS安全编程-Secure-programming"><a href="#XSS安全编程-Secure-programming" class="headerlink" title="XSS安全编程(Secure programming)"></a>XSS安全编程(Secure programming)</h3><p>XSS漏洞可通过安全编程(secure coding practices)来排除，如：sanitization of untrusted input for removing the harmful properties. 具体方法包括<code>强制输入限制(impose restrictions on user-input)</code>, <code>采用转义序列表示特殊字符(use escape sequences for referencing special characters)</code>，以及<code>从输入中更换或者移除恶意字符串replacement or removal of malicious characters from the input</code>。</p>
<h3 id="XSS漏洞挖掘-Vulnerability-detecion"><a href="#XSS漏洞挖掘-Vulnerability-detecion" class="headerlink" title="XSS漏洞挖掘(Vulnerability detecion)"></a>XSS漏洞挖掘(Vulnerability detecion)</h3><ul>
<li>Di lucca et al.提出对web页面进行控制流图构建的XSS挖掘方法。</li>
<li>尽管XSS漏洞的主要原因是input sanitization function实现的不正确。很少有web应用程序没有包含input sanitizers for filtering out malicious characters. </li>
<li>污点分析使用用的发现缺少input sanitization的手段。他用来跟踪user-input流并加测untrusted input是否应用于HTML output statements.Pixy是比较早的一个工作，使用过程内，上下文敏感的数据流分析来验证漏洞。Pixy验证user-input在到达sink之前，是不是被sanitized了，but cannot guarantee the correctness of sanitization。<br>对于消毒方法的正确性验证(Correctness of sanitization routines)，可以使用<em>string taint analysis</em>方法，Wassermann and Su使用该方法验证input string。<br>在黑盒方面，Kals et al. 开发了黑盒漏洞扫描系统，用来探测SQL注入和XSS漏洞，该工作使用一个爬虫进行web页面爬取，使用攻击载荷填写form field，</li>
</ul>
<h3 id="XSS漏洞防护-Vulnerability-prevention"><a href="#XSS漏洞防护-Vulnerability-prevention" class="headerlink" title="XSS漏洞防护(Vulnerability prevention)"></a>XSS漏洞防护(Vulnerability prevention)</h3><h3 id="XSS漏洞预测-Vulnerability-prediction"><a href="#XSS漏洞预测-Vulnerability-prediction" class="headerlink" title="XSS漏洞预测(Vulnerability prediction)"></a>XSS漏洞预测(Vulnerability prediction)</h3><h3 id="XSS攻击发现-Attack-detection"><a href="#XSS攻击发现-Attack-detection" class="headerlink" title="XSS攻击发现(Attack detection)"></a>XSS攻击发现(Attack detection)</h3><h3 id="XSS攻击防护-Attack-prevention"><a href="#XSS攻击防护-Attack-prevention" class="headerlink" title="XSS攻击防护(Attack prevention)"></a>XSS攻击防护(Attack prevention)</h3><ul>
<li>保护Web应用程序免受XSS漏洞影响的缓解机制：</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1gzody44fepj20k509et9i.jpg"></p>
<ul>
<li>保护Web应用程序免受XSS攻击的缓解机制：</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1gzofxxgtqzj20me0cmwfi.jpg"></p>
<p>对于XSS防护机制，在web应用服务端存在以下问题：<br>    1. 性能开销，大多数防护都是设置为HTTP请求与响应间的中间代理。<br>    2. 他涉及检测应用程序的源代码以防止攻击。<br>    3. 一些方法需要开发者人为定义安全策略。</p>
<p><a target="_blank" rel="noopener" href="https://www.sciencedirect.com/science/article/pii/S0950584916300234">参考1</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/24/web/" data-id="cl1d6yihd0022kjw5h87x849i" data-title="Web应用系中注入类漏洞调研" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-data-mining" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/02/18/data-mining/" class="article-date">
  <time class="dt-published" datetime="2022-02-18T01:58:27.000Z" itemprop="datePublished">2022-02-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/02/18/data-mining/">data_mining</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>数据工程发现代漏洞的一个重要方法。 Fabs博士的博士论文就是通过发现代码中的pattern来进行漏洞挖掘(从代码问题时尚)。在传统方法不能够很好地处理的瓶颈问题上，在代码上使用数据工程发现facts不失是一个好的方法。</p>
<h1 id="数据工程"><a href="#数据工程" class="headerlink" title="数据工程"></a>数据工程</h1><p><a target="_blank" rel="noopener" href="https://c.d2l.ai/stanford-cs329p/syllabus.html">主要参考自李沐实用机器学习</a></p>
<p>数据工程大致分为三个阶段： 数据收集、 特征工程、模型训练。<br>针对数据，我们要做的大致有：</p>
<ul>
<li>从哪获得数据(数据来源):数据收集</li>
<li>数据中的噪声大(数据内容)： 数据清理</li>
<li>数据不是模型想要的格式(数据格式)： 数据变换</li>
<li>数据训练比较难(数据效果)： 特征工程</li>
</ul>
<h2 id="数据收集-Data-Collection"><a href="#数据收集-Data-Collection" class="headerlink" title="数据收集(Data Collection)"></a>数据收集(Data Collection)</h2><p><a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1811.03402.pdf">相关文献</a></p>
<p>数据收集的目标是构成目标数据集</p>
<p>针对目标系统，数据的收集大致分为：获取数据、标注数据、数据质量优化。<br>看一张总图：</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-02-18-022624.png"></p>
<p>paper给出的一个分析流程:</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-02-18-022924.png"></p>
<p>先从section2</p>
<h3 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h3><p>从流程上将就是section2中的内容回答三个问题:<br>    - Have enough data?  有足够数据进入下一步标注<br>    - Are there external datasets? 如果有差不多的数据集就去搜集并修改<br>    - Have data generation method? 想办法生成数据。</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-02-18-023846.png"></p>
<p>从三个角度的技术分析： </p>
<h4 id="Data-Discovery-从外部获取已有数据集，方法"><a href="#Data-Discovery-从外部获取已有数据集，方法" class="headerlink" title="Data Discovery: 从外部获取已有数据集，方法"></a><strong>Data Discovery</strong>: 从外部获取已有数据集，方法</h4><p>Data Discovery 通常有两步：<br>1.找已经共享标注好的数据集(Data Sharing)，可以去许多的共享平台(如DataHub, kaggle)寻找之前工作整理好的数据集。也可以去CKAN， Quandl， DataMarket等购买。Google Fusion Tables也是一个数据云端管理整合平台，也可以去寻找。</p>
<ol start="2">
<li>Data Searching: 如果在以上这些平台没有找到你想要的数据集，就要自己去寻找了， data lakes的出现使得data searching普遍起来。</li>
</ol>
<h4 id="Augmentation-另一种获取数据的方式是Augmentation-对已有数据进行修改得到。"><a href="#Augmentation-另一种获取数据的方式是Augmentation-对已有数据进行修改得到。" class="headerlink" title="Augmentation: 另一种获取数据的方式是Augmentation, 对已有数据进行修改得到。"></a><strong><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Data_augmentation">Augmentation</a></strong>: 另一种获取数据的方式是Augmentation, 对已有数据进行修改得到。</h4><h3 id="标注数据"><a href="#标注数据" class="headerlink" title="标注数据"></a>标注数据</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/18/data-mining/" data-id="cl1d6yigx000nkjw51tr0eijw" data-title="data_mining" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-pop" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/02/14/pop/" class="article-date">
  <time class="dt-published" datetime="2022-02-14T01:14:50.000Z" itemprop="datePublished">2022-02-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/02/14/pop/">A Survey about PHP Object Injection</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>This article will discuss PHP object injection, which is a very famous and popular security vulnerability in the PHP language.<br>Each programming language has its own methods to serialize the structure data like object or array in memory, and these data can be stored as a JSON format or a string in the hardware.<br>PHP is usually used <code>searialize()</code> to searialize arries and objects, and used <code>unseralize()</code> to recover them.<br>Although finding a user-control <code>unserialize()</code> method is not a vulnerability, if this point can jump to some real sinks like <code>echo</code> or <code>system</code>, we can trigger some other security vulnerabilities.<br>So there are three steps for an attacker to exploit such a vulnerability: </p>
<ol>
<li>find the user-control serialization point, just like the <code>unserialize()</code></li>
<li>analysis where you can jump by controlling the property of objects, which is called property-object programming</li>
<li>using these pop chains to construct the object payload</li>
</ol>
<p>Now we introduce some works in the following phases.</p>
<h1 id="RIPS"><a href="#RIPS" class="headerlink" title="RIPS"></a>RIPS</h1><p>In 2014[1], the RIPS presented a static analysis method to detect PHP Object Injection. RIPS is a famous PHP static analysis tool to find security vunlnerabilities, which is based on the Xie’s work[2].<br>In order to let RIPS support POI(PHP Object Inject) detection, the key static analysis techniques are <code>inter produral</code>, <code>field sensitive</code>, <code>object sensitive</code>. We can use these technqiques to analysis relevant OOP features. But it is not enough, in order to create POP chains, we must support the <code>magic method sensitive</code> senstive to analyze the jump between the gadgets.<br>In total, there are two kinds of <code>magic method</code>, one is context-independent, and another one is context-dependent. The methods <code>__destruct()</code> and <code>__wakeup()</code> are context-independent. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/14/pop/" data-id="cl1d6yih40017kjw55eud3kc6" data-title="A Survey about PHP Object Injection" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-logic-machine" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/02/06/logic-machine/" class="article-date">
  <time class="dt-published" datetime="2022-02-06T06:59:35.000Z" itemprop="datePublished">2022-02-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/02/06/logic-machine/">Logic Machine</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>我发现如果沿着计算机发展的脉络回溯，追溯到最初的那些人们。莱布尼茨、希伯尔、罗素、维特根斯坦、邱奇、图灵、哥德尔…我能想到的这些人，好像都在尝试寻找一种究极的符号系统来描述真理。通过这个系统所形成真正精确而无歧义的语言，无论是数学问题还是哲学问题，通过这种语言进行逻辑推导总可以清晰地获得最终地答案。 而如果将这套语言系统编制在一套机械中，并通过机械运动进行逻辑推导，那么这样一台机器便可以无限地接近这个世界的原理甚至能够创造出一个世界(我瞎扯别信)。 然而，不完备定理给这样一台机器存在的可能性沉重地打击，现代计算机可以看成这样一台”完美”机器地”不完美”实现。 但是我觉得这并不是结束，这恰恰是一个开始。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/06/logic-machine/" data-id="cl1d6yigz000tkjw5gabyf3ck" data-title="Logic Machine" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-fuz" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/01/26/fuz/" class="article-date">
  <time class="dt-published" datetime="2022-01-26T08:24:56.000Z" itemprop="datePublished">2022-01-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/01/26/fuz/">Fuzzing</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-01-26-083104.jpg"></p>
<p>本来我是不太喜欢Fuzzing的，觉得太暴力了，没有静态分析优雅(不是)。 但是现在想想这种想法有够无聊，能挖到洞就是好方法。</p>
<p>本文是介绍一篇2019年的综述: </p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-01-26-083635.png"></p>
<p>文章可以在arxiv上找到。</p>
<p>本文首先在high-level上对Fuzzing下定义:</p>
<blockquote>
<p>fuzzing refers to a process of repeatedly running a program with generated inputs that may be syntactically or semantically malformed. </p>
</blockquote>
<p>就是生成一堆<code>语法</code>和<code>语义</code>上的畸形数据。</p>
<p><em>fuzz</em>来自于1990年Miller et al.的工作。fuzz起初指的是<code>generates a stream of random characters to be consumed by a target program</code>。</p>
<h1 id="Fuzzing-amp-Fuzz-Testing"><a href="#Fuzzing-amp-Fuzz-Testing" class="headerlink" title="Fuzzing &amp; Fuzz Testing"></a>Fuzzing &amp; Fuzz Testing</h1><p>这里给出一些Fuzz的基本概念。</p>
<blockquote>
<p>Definition 1 (Fuzzing). Fuzzing 执行PUT<br>Definition 2 (Fuzz Testing).<br>Definition 3 (Fuzzer)<br>Definition 4 (Fuzz Campaign)<br>Definition 5 (Bug Oracle)<br>Definition 6 (Fuzz Configuration)</p>
</blockquote>
<h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-01-26-090624.png"></p>
<h1 id="PREPROCESS-预处理"><a href="#PREPROCESS-预处理" class="headerlink" title="PREPROCESS(预处理)"></a>PREPROCESS(预处理)</h1><h1 id="SCHEDULING"><a href="#SCHEDULING" class="headerlink" title="SCHEDULING()"></a>SCHEDULING()</h1><h1 id="INPUT-GENERATION-INPUT生成"><a href="#INPUT-GENERATION-INPUT生成" class="headerlink" title="INPUT GENERATION(INPUT生成)"></a>INPUT GENERATION(INPUT生成)</h1><h1 id="INPUT-EVALUATION-INPUT评估"><a href="#INPUT-EVALUATION-INPUT评估" class="headerlink" title="INPUT EVALUATION(INPUT评估)"></a>INPUT EVALUATION(INPUT评估)</h1><h2 id="Bug-Oracles"><a href="#Bug-Oracles" class="headerlink" title="Bug Oracles"></a>Bug Oracles</h2><h2 id="Execution-Optimizations"><a href="#Execution-Optimizations" class="headerlink" title="Execution Optimizations"></a>Execution Optimizations</h2><h2 id="Triage"><a href="#Triage" class="headerlink" title="Triage"></a>Triage</h2><h1 id="CONFIGURATION-UUPDATING"><a href="#CONFIGURATION-UUPDATING" class="headerlink" title="CONFIGURATION UUPDATING"></a>CONFIGURATION UUPDATING</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/01/26/fuz/" data-id="cl1d6yigz000skjw5b6fh0vc8" data-title="Fuzzing" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-sklearn" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/01/15/sklearn/" class="article-date">
  <time class="dt-published" datetime="2022-01-15T06:38:47.000Z" itemprop="datePublished">2022-01-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/01/15/sklearn/">scikit库使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="算法选择"><a href="#算法选择" class="headerlink" title="算法选择"></a>算法选择</h1><p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-01-15-064202.jpg"></p>
<p>一开始做机器学习，选择算法是一比较难的事请，上图是scikit-learn给出的<code>Choosing the right estimator</code>。</p>
<h2 id="你的样本数量"><a href="#你的样本数量" class="headerlink" title="你的样本数量"></a>你的样本数量</h2><ul>
<li>首先你的样本数量是否大于50，否则bye-bye。</li>
</ul>
<h2 id="是否是分类任务"><a href="#是否是分类任务" class="headerlink" title="是否是分类任务"></a>是否是分类任务</h2><ul>
<li>然后看是否是一个分类任务，是的话进入<code>classification</code>和<code>clustering</code>中选</li>
<li>不是分类任务进入<code>regression</code>和<code>dimensionality reduction</code>中选</li>
</ul>
<h2 id="分类任务-你的数据是否有标签"><a href="#分类任务-你的数据是否有标签" class="headerlink" title="[分类任务] 你的数据是否有标签"></a>[分类任务] 你的数据是否有标签</h2><ul>
<li>没有进入<code>clustering</code>, 有进入<code>classification</code><h2 id="非分类任务-你的数据"><a href="#非分类任务-你的数据" class="headerlink" title="[非分类任务] 你的数据"></a>[非分类任务] 你的数据</h2></li>
</ul>
<table>
<thead>
<tr>
<th>机器学习</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>Header</td>
<td>Title</td>
</tr>
<tr>
<td>Paragraph</td>
<td>Text</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/01/15/sklearn/" data-id="cl1d6yih6001ekjw5hmu8cd35" data-title="scikit库使用" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ml-2021-3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/01/02/ml-2021-3/" class="article-date">
  <time class="dt-published" datetime="2022-01-02T08:52:46.000Z" itemprop="datePublished">2022-01-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/01/02/ml-2021-3/">台大深度学习2021-3</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <img src="img/image-20220102170201302.png" alt="image-20220102170201302" style="zoom:50%;" />

<ol>
<li><p>先检查training data的loss</p>
<blockquote>
<p>如果training data的loss很大，显然在训练集上也没有学好。</p>
</blockquote>
</li>
<li></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/01/02/ml-2021-3/" data-id="cl1d6yih1000xkjw57ewy7brl" data-title="台大深度学习2021-3" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-bayes" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/01/01/bayes/" class="article-date">
  <time class="dt-published" datetime="2022-01-01T02:42:11.000Z" itemprop="datePublished">2022-01-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/01/01/bayes/">信念传播(Belief propagation)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>本文为了理清贝叶斯网络， 信念传播以及因子图之间的关系。</p>
<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2022-01-01-084717.jpg" alt="img " style="zoom:30%;" />



<blockquote>
<p>对于inference problems,信念传播(BP)是一种重要的解决方法</p>
</blockquote>
<h2 id="条件概率"><a href="#条件概率" class="headerlink" title="条件概率"></a>条件概率</h2><p>条件概率就是求在B发生的概率下A发生的概率$P(A|B)$ 。<br>$$<br>P(A|B) &#x3D; \frac{P(A)P(B|A)}{P(B)} \tag{1}<br>$$</p>
<h2 id="贝叶斯网络介绍"><a href="#贝叶斯网络介绍" class="headerlink" title="贝叶斯网络介绍"></a>贝叶斯网络介绍</h2><p>一个贝叶斯网络是一个__有向无环图(DAG)__，也叫信念网络(belief network)。</p>
<p>贝叶斯网络常常用作是医疗诊断，语言识别等专家系统。</p>
<h3 id="链式规则"><a href="#链式规则" class="headerlink" title="链式规则"></a>链式规则</h3><p>对于一两个随机变量$X$, $Y$,为了找到他们的联合分布，我们可以定义如下条件概率:<br>$$<br>P(X,Y)&#x3D;P(X|Y)\cdot P(Y)<br>$$<br>如果有多个随机变量$X_1…X_n$的话:<br>$$<br>P(X_n,…,X_1) &#x3D; P(Xn|X_{n-1},…,X_1)\cdot P(X_{n-1},….,X_1)<br>$$<br>其中可以继续拆分，如(n&#x3D;4):<br>$$<br>P(X_4, X_3, X_2, X_1) &#x3D; P(X_4|X_3,X_2,X_1)\cdot P(X_3, X_2, X_1)<br>&#x3D; P(X_4|X_3,X_2,X_1)\cdot P(X_3|X_2,X_1)\cdot P(X_2, X_1) &#x3D;…<br>$$<br>通过公式进行抽象就是过程:<br>$$<br>P \Bigg( \bigcap_{k&#x3D;1}^nX_k \Bigg) &#x3D; \prod_{k&#x3D;1}^nP\Bigg(X_k\Bigg| \bigcap_{j&#x3D;1}^{k&#x3D;1}X_j \Bigg)<br>$$</p>
<h3 id="贝叶斯网络"><a href="#贝叶斯网络" class="headerlink" title="贝叶斯网络"></a>贝叶斯网络</h3><p>比如下图贝叶斯网络：</p>
<p><img src="/img/image-20220101161019281.png" alt="image-20220101161019281"></p>
<p>给定一个关键词”Asia”</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://longaspire.github.io/blog/%E5%9B%A0%E5%AD%90%E5%9B%BE%E4%BB%8B%E7%BB%8D/">https://longaspire.github.io/blog/%E5%9B%A0%E5%AD%90%E5%9B%BE%E4%BB%8B%E7%BB%8D/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/01/01/bayes/" data-id="cl1d6yigv000gkjw53rk996e4" data-title="信念传播(Belief propagation)" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-org" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/31/org/" class="article-date">
  <time class="dt-published" datetime="2021-12-31T06:22:43.000Z" itemprop="datePublished">2021-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/31/org/">org使用入门</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>新的一年打算使用org mod 做日程计划。Good Luck~</p>
<p>我目前使用的版本是spacemacs。</p>
<p>原教程: <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=PVsSOmUB7ic">https://www.youtube.com/watch?v=PVsSOmUB7ic</a></p>
<h2 id="1-Create-nodes-and-subtrees"><a href="#1-Create-nodes-and-subtrees" class="headerlink" title="1. Create nodes and subtrees"></a>1. Create nodes and subtrees</h2><p>创建一个org文件：</p>
<ol>
<li>Create a new buffer: <code>SPC b N-n</code></li>
<li>Change into org mode: <code>M-x org mode </code></li>
</ol>
<p>写一个Title:</p>
<p><code>SPC-is</code>(i即是插入，可以选择插入的标签)</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#+TITLE: 标题</span></span><br><span class="line"><span class="comment">#+DESCRIPTION: 描述</span></span><br></pre></td></tr></table></figure>

<p>Create the Tree:</p>
<p>​    使用*+SPC（同markdown）</p>
<p>​        使用**+SPC子note </p>
<p>(也可以使用命令<code>,is</code>(sub level)或者<code>,ih</code>(same level))</p>
<blockquote>
<p>Tips: 使用tab可折叠一个tree, 使用shift+tab全局折叠&#x2F;展开</p>
</blockquote>
<blockquote>
<p>Tips2: 窗口据中: <code>SPC+w+c+c</code>,取消再来一次</p>
</blockquote>
<p>subtree:</p>
<p><code>,sn</code>:进入一颗子树</p>
<p>返回整个文件: 视频里说的是<code>,sN</code>,但是我这里是<code>,sw</code>,总之看<code>,s</code>选项中的wide</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-31-065024.png" alt="image-20211231145019900"></p>
<h2 id="2-Formatting-Text"><a href="#2-Formatting-Text" class="headerlink" title="2. Formatting Text"></a>2. Formatting Text</h2><p>使用<code>,+x</code>面板来做formatting Text。</p>
<p>使用vim的viwe模式选中文本(spacemacs太强了), 然后可以做格式化操作了</p>
<p><img src="/img/image-20211231145648418.png" alt="image-20211231145648418"></p>
<blockquote>
<p>还可以使用vim中的ys(surround)</p>
</blockquote>
<ul>
<li>插入代码：</li>
</ul>
<p><code>SPC i s</code>, 选择<code>EXAMPLE</code>标签</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-31-070459.png" alt="image-20211231150457798"></p>
<h2 id="3-Add-TODO-and-timestamps"><a href="#3-Add-TODO-and-timestamps" class="headerlink" title="3. Add TODO and timestamps"></a>3. Add TODO and timestamps</h2><h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- item 1</span><br><span class="line">- item 2</span><br><span class="line">也可以</span><br><span class="line">1. item 1</span><br><span class="line">2. item 2</span><br></pre></td></tr></table></figure>



<p>在list前加<code>[ ]</code>, 并点击<code>C-c C-c</code>， 就可以给item加一个check</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. [ ] item 1</span><br><span class="line">1. [X] item 1 //点击C-c C-c后</span><br></pre></td></tr></table></figure>

<p>在list的上级note中加<code>[/]</code>,然后<code>C-c C-c</code>:</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-31-091433.png" alt="image-20211231171431548"></p>
<p>做完了一条item就<code>C-c C-c</code>。</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-31-091447.png" alt="image-20211231171445473"></p>
<h4 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h4><p>将一条note变为<code>TODO</code>： <code>shift+left</code> (<code>shift+right</code> remove it), 再来一遍就由TODO变为DONE</p>
<p>设置优先级: <code>shift+up</code>:</p>
<p><img src="/img/image-20211231171934954.png" alt="image-20211231171934954"></p>
<h4 id="Agenda"><a href="#Agenda" class="headerlink" title="Agenda"></a>Agenda</h4><p>设置aganda 使用<code>,d</code>，如schedule <code>,ds</code>:</p>
<p><img src="/img/image-20211231172132119.png" alt="image-20211231172132119"></p>
<p>可以通过方向键任意选择。同样在问不去也可以通过<code>shift + 方向键</code>选择。</p>
<h2 id="4-Browse-the-agenda"><a href="#4-Browse-the-agenda" class="headerlink" title="4. Browse the agenda"></a>4. Browse the agenda</h2><p>加载org-agenda:</p>
<p><img src="/img/image-20211231172757425.png" alt="image-20211231172757425"></p>
<p>点击<code>,a</code>, 就会看到一个新的agenda view, 可以做很多事，比如使用t来查看TODO:</p>
<p><img src="/img/image-20211231172937596.png" alt="image-20211231172937596"></p>
<p><code>,aa</code>可以看我们的agenda</p>
<p><img src="/img/image-20211231173256006.png" alt="image-20211231173256006"></p>
<p>可以在配置中改颜色和新的keywords。 这个暂时不需要。</p>
<h2 id="5-search"><a href="#5-search" class="headerlink" title="5. search"></a>5. search</h2><p><code>,ss</code>进入search, 如<code>,sst</code>找到所有的todo:</p>
<p><img src="/img/image-20211231190225564.png" alt="image-20211231190225564"></p>
<p>先介绍这么多，后续的逐渐熟悉。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/31/org/" data-id="cl1d6yih1000ykjw5c4nyfp45" data-title="org使用入门" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-datalog" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/30/datalog/" class="article-date">
  <time class="dt-published" datetime="2021-12-30T11:08:07.000Z" itemprop="datePublished">2021-12-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/30/datalog/">datalog</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="DataLog学习"><a href="#DataLog学习" class="headerlink" title="DataLog学习"></a>DataLog学习</h1><p>一直听说用datalog来做程序分析很NB，所以一直想学习他的使用方式。</p>
<p>参考: <a target="_blank" rel="noopener" href="https://souffle-lang.github.io/tutorial">https://souffle-lang.github.io/tutorial</a></p>
<h2 id="有向图可达性分析"><a href="#有向图可达性分析" class="headerlink" title="有向图可达性分析"></a>有向图可达性分析</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.<span class="function">decl <span class="title">edge</span><span class="params">(n: symbol, m: symbol)</span></span></span><br><span class="line"><span class="function"><span class="title">edge</span><span class="params">(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>)</span>. <span class="comment">/* facts of edge */</span></span></span><br><span class="line"><span class="function"><span class="title">edge</span><span class="params">(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">edge</span><span class="params">(<span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">edge</span><span class="params">(<span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>)</span>.</span></span><br><span class="line"><span class="function">.decl <span class="title">reachable</span> <span class="params">(n: symbol, m: symbol)</span></span></span><br><span class="line"><span class="function">.output reachable <span class="comment">// output relation reachable</span></span></span><br><span class="line"><span class="function"><span class="title">reachable</span><span class="params">(x, y)</span>:- edge(x, y). // base rule</span></span><br><span class="line"><span class="function">reachable(x, z):- edge(x, y), reachable(y, z). // inductive rule</span></span><br></pre></td></tr></table></figure>

<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-30-111626.png" alt="image-20211230141036143"></p>
<p>对于这样一个有向图，做可达性分析， 只要做好了顶点之间的边的关系，您不需要dfs, bfs,几行代码就可以搞定：</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-30-111627.png" alt="image-20211230141323656"></p>
<p>这全靠着datalog支持递归。</p>
<p>比如第二条规则</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">reacheable</span>(x, z) :- <span class="built_in">reachable</span>(x, y),<span class="built_in">reachable</span>(y, z).</span><br></pre></td></tr></table></figure>

<p>其中你告诉引擎, 如果一个符号x连接y,  y连接z，那么x, z相连。 比如a到d, 引擎先根据第一条推导出a-&gt;b，b-&gt;c, c-&gt;d,然后开始递归，即然a-&gt;b, b-&gt;c那么a-&gt;c,即然a-&gt;c, c-&gt;d那么a-&gt;d。</p>
<h2 id="二叉树同级节点"><a href="#二叉树同级节点" class="headerlink" title="二叉树同级节点"></a>二叉树同级节点</h2><p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-30-111622.jpg" alt="Example graph"></p>
<p>给定一颗二叉树，找出同级节点： 如b, c同级; d, f同级。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.<span class="function">decl <span class="title">Parent</span><span class="params">(n: symbol, m: symbol)</span></span></span><br><span class="line"><span class="function"><span class="title">Parent</span><span class="params">(<span class="string">&quot;d&quot;</span>, <span class="string">&quot;b&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Parent</span><span class="params">(<span class="string">&quot;e&quot;</span>, <span class="string">&quot;b&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Parent</span><span class="params">(<span class="string">&quot;f&quot;</span>, <span class="string">&quot;c&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Parent</span><span class="params">(<span class="string">&quot;g&quot;</span>, <span class="string">&quot;c&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Parent</span><span class="params">(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;a&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Parent</span><span class="params">(<span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">.decl <span class="title">Person</span><span class="params">(n: symbol)</span></span></span><br><span class="line"><span class="function"><span class="title">Person</span><span class="params">(x)</span> :- Parent(x, _).   // 从子中提取person</span></span><br><span class="line"><span class="function">Person(x) :- Parent(_, x).   // 从父母中提取person</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">.decl SameGeneration(n: symbol, m:symbol)</span></span><br><span class="line"><span class="function">SameGeneration(x, x) :- Person(x). // 做一个自身到自身的关系映射, 做为初始化</span></span><br><span class="line"><span class="function">SameGeneration(x, y) :=</span> <span class="built_in">Parent</span>(x, p), <span class="built_in">SameGeneration</span>(p, q), <span class="built_in">Parent</span>(y, q). <span class="comment">// 逻辑： 如果p是x的父母，p和q同级，那么q的孩子y和x也同级(父父同级-&gt;子子同级)</span></span><br><span class="line"></span><br><span class="line">.output SameGeneration</span><br></pre></td></tr></table></figure>



<img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-30-111629.png" alt="image-20211230143847717" style="zoom:50%;" />

<p>注：自己和自己一定同级。</p>
<h2 id="0x03-Data-flow-analysis"><a href="#0x03-Data-flow-analysis" class="headerlink" title="0x03 Data-flow analysis"></a>0x03 Data-flow analysis</h2><p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-30-111616.jpg" alt="Reaching definition example"></p>
<p>这里有一个程序流图，做一个数据流分析。</p>
<blockquote>
<p>Data-flow analysis(DFA) aims to determine <em>static</em> properties of programs.</p>
</blockquote>
<p>正向来分析变量v的<code>reaching definition</code>:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// define control flow graph</span></span><br><span class="line"><span class="comment">// via the Edge relation</span></span><br><span class="line">.<span class="function">decl <span class="title">Edge</span><span class="params">(n: symbol, m: symbol)</span></span></span><br><span class="line"><span class="function"><span class="title">Edge</span><span class="params">(<span class="string">&quot;start&quot;</span>, <span class="string">&quot;b1&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Edge</span><span class="params">(<span class="string">&quot;b1&quot;</span>, <span class="string">&quot;b2&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Edge</span><span class="params">(<span class="string">&quot;b1&quot;</span>, <span class="string">&quot;b3&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Edge</span><span class="params">(<span class="string">&quot;b2&quot;</span>, <span class="string">&quot;b4&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Edge</span><span class="params">(<span class="string">&quot;b3&quot;</span>, <span class="string">&quot;b4&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Edge</span><span class="params">(<span class="string">&quot;b4&quot;</span>, <span class="string">&quot;b1&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">Edge</span><span class="params">(<span class="string">&quot;b4&quot;</span>, <span class="string">&quot;end&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 两个define点互为gen,kill</span></span></span><br><span class="line"><span class="function"><span class="comment">// Generating Definitions </span></span></span><br><span class="line"><span class="function">.decl <span class="title">GenDef</span><span class="params">(n: symbol, d:symbol)</span>   </span></span><br><span class="line"><span class="function"><span class="title">GenDef</span><span class="params">(<span class="string">&quot;b2&quot;</span>, <span class="string">&quot;d1&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">GenDef</span><span class="params">(<span class="string">&quot;b4&quot;</span>, <span class="string">&quot;d2&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// Killing Definitions</span></span></span><br><span class="line"><span class="function">.decl <span class="title">KillDef</span><span class="params">(n: symbol, d:symbol)</span></span></span><br><span class="line"><span class="function"><span class="title">KillDef</span><span class="params">(<span class="string">&quot;b4&quot;</span>, <span class="string">&quot;d1&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"><span class="title">KillDef</span><span class="params">(<span class="string">&quot;b2&quot;</span>, <span class="string">&quot;d2&quot;</span>)</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// Reachable</span></span></span><br><span class="line"><span class="function">.decl <span class="title">Reachable</span><span class="params">(n: symbol, d:symbol)</span>  </span></span><br><span class="line"><span class="function"><span class="title">Reachable</span><span class="params">(u,d)</span> :- GenDef(u,d).    </span></span><br><span class="line"><span class="function">Reachable(v,d) :- Edge(u,v), Reachable(u,d), !KillDef(u,d).</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">.output Reachable</span></span><br></pre></td></tr></table></figure>

<p>推导式:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Reachable</span>(u,d) :- <span class="built_in">GenDef</span>(u,d).    <span class="comment">// 初始化define点, 相当于Gen_B</span></span><br><span class="line"><span class="built_in">Reachable</span>(v, d) :- <span class="built_in">Edge</span>(u, v), <span class="built_in">Reachable</span>(u, d), !<span class="built_in">KillDef</span>(u, d). <span class="comment">//相当于(IN[B]-killB)</span></span><br></pre></td></tr></table></figure>

<p>递归地实现了reaching definition 的迭代数据流算法:</p>
<p><img src="https://penlab-1252869057.cos.ap-beijing.myqcloud.com/2021-12-30-111607.png" alt="截屏2020-05-09 下午9.11.28 "></p>
<blockquote>
<p>参考南大程序分析第三节</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/30/datalog/" data-id="cl1d6yigx000okjw5cb2c6zib" data-title="datalog" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/paper/" rel="tag">paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pl/" rel="tag">pl</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/paper/" style="font-size: 15px;">paper</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/pl/" style="font-size: 20px;">pl</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/02/24/web/">Web应用系中注入类漏洞调研</a>
          </li>
        
          <li>
            <a href="/2022/02/18/data-mining/">data_mining</a>
          </li>
        
          <li>
            <a href="/2022/02/14/pop/">A Survey about PHP Object Injection</a>
          </li>
        
          <li>
            <a href="/2022/02/06/logic-machine/">Logic Machine</a>
          </li>
        
          <li>
            <a href="/2022/01/26/fuz/">Fuzzing</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 iohex<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>